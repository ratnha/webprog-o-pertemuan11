<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Mahasiswa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>
<body>
        
    <div class="container">
        <h3>Data Mahasiswa <a class="btn btn-primary btn-sm" href="tambahdata.html">Tambah Data</a></h3>
        <div id="dtmhs"></div>
    </div>

    <script>
        const xml = new XMLHttpRequest();
        xml.open("GET","server/mhsvd.php");
        xml.send();
        xml.onload = function(){
            const dta = JSON.parse(this.responseText);
            
            console.log(dta);
            let tbl = '<table class="table table-hover"><thead><tr><th>No</th><th>NIM</th><th>Nama</th><th></th></tr></thead><tbody>';
            let no=1;
            for(i=0;i<dta.length;i++){
                tbl += '<tr><td>'+no+'</td><td>'+dta[i]["NIM"]+'</td><td>'+dta[i]["NAMA"]+'</td>';
                tbl += '<td><a class="btn btn-sm btn-warning" href="ubahdata.html?nim='+dta[i]["NIM"]+'"> Ubah </a> <a class="btn btn-sm btn-danger" href="hapusdata.html?nim='+dta[i]["NIM"]+'"> Hapus </a> </td></tr>';    
                no++;
            }   
            tbl += '</tbody></table>';
            document.getElementById("dtmhs").innerHTML = tbl;

        };

    </script>
</body>
</html>